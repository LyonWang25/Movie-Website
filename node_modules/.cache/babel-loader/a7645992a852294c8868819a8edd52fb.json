{"ast":null,"code":"import _slicedToArray from\"C:/Users/t4158/OneDrive/\\u6587\\u4EF6/GitHub/Movie-list/movie-list/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import LikeMovieListCard from\"../../Components/Card/LikeMovieListCard\";import'./LikeMovieList.css';import{useSelector,useDispatch}from'react-redux';import{unlike,likedToBlocked}from'../../features/movieList/AllInOneSlice.js';import\"bootstrap/dist/css/bootstrap.min.css\";import{v4 as uuidv4}from'uuid';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function LikeMovieList(){var dispatch=useDispatch();var movieInfo=useSelector(function(state){return state.movieList.movieInfo;});var likedIds=useSelector(function(state){return state.movieList.liked;});var likedInfo=movieInfo.filter(function(m){return likedIds.includes(m.id);});var _React$useState=React.useState(likedInfo),_React$useState2=_slicedToArray(_React$useState,2),likedMovies=_React$useState2[0],setLikedMovies=_React$useState2[1];function UnlikeMovie(id){dispatch(unlike(id));setLikedMovies(function(prevMovies){return prevMovies.filter(function(m){return m.id!==id;});});}function BlockMovie(id){dispatch(likedToBlocked(id));setLikedMovies(function(prevMovies){return prevMovies.filter(function(m){return m.id!==id;});});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:\"LikeMovieList\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid d-flex flex-wrap justify-content-center\",children:likedMovies.map(function(item){return/*#__PURE__*/_jsx(LikeMovieListCard,{poster_path:item.poster_path,id:item.id,addUnlike:UnlikeMovie,addBlock:BlockMovie},uuidv4());})})]});}","map":{"version":3,"names":["React","LikeMovieListCard","useSelector","useDispatch","unlike","likedToBlocked","v4","uuidv4","LikeMovieList","dispatch","movieInfo","state","movieList","likedIds","liked","likedInfo","filter","m","includes","id","useState","likedMovies","setLikedMovies","UnlikeMovie","prevMovies","BlockMovie","map","item","poster_path"],"sources":["C:/Users/t4158/OneDrive/文件/GitHub/Movie-list/movie-list/src/containers/Pages/LikeMovieList.js"],"sourcesContent":["import React from \"react\";\r\nimport LikeMovieListCard from \"../../Components/Card/LikeMovieListCard\";\r\nimport './LikeMovieList.css'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport {unlike, likedToBlocked} from '../../features/movieList/AllInOneSlice.js'\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nexport default function LikeMovieList(){\r\n  \r\n  const dispatch = useDispatch();\r\n  const movieInfo = useSelector((state)=> state.movieList.movieInfo)\r\n\r\n  var likedIds = useSelector((state) => state.movieList.liked)\r\n  var likedInfo = movieInfo.filter(m => likedIds.includes(m.id)) \r\n  const [likedMovies, setLikedMovies] = React.useState(likedInfo)\r\n\r\n  function UnlikeMovie(id){\r\n    dispatch(unlike(id))\r\n    setLikedMovies(prevMovies =>{return prevMovies.filter(m=>m.id !==id)})\r\n  }\r\n\r\n  function BlockMovie(id){\r\n    dispatch(likedToBlocked(id))\r\n    setLikedMovies(prevMovies =>{return prevMovies.filter(m=>m.id !==id)})\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div>LikeMovieList</div>\r\n      <div className=\"container-fluid d-flex flex-wrap justify-content-center\">\r\n        {likedMovies.map(item =>{\r\n          return (\r\n            <LikeMovieListCard \r\n            key={uuidv4()}\r\n            poster_path={item.poster_path}\r\n            id = {item.id}\r\n            addUnlike={UnlikeMovie}\r\n            addBlock={BlockMovie}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  \r\n  )\r\n}\r\n"],"mappings":"uJAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,iBAAP,KAA8B,yCAA9B,CACA,MAAO,qBAAP,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAAQC,MAAR,CAAgBC,cAAhB,KAAqC,2CAArC,CACA,MAAO,sCAAP,CACA,OAASC,EAAE,GAAIC,CAAAA,MAAf,KAA6B,MAA7B,C,wFAEA,cAAe,SAASC,CAAAA,aAAT,EAAwB,CAErC,GAAMC,CAAAA,QAAQ,CAAGN,WAAW,EAA5B,CACA,GAAMO,CAAAA,SAAS,CAAGR,WAAW,CAAC,SAACS,KAAD,QAAUA,CAAAA,KAAK,CAACC,SAAN,CAAgBF,SAA1B,EAAD,CAA7B,CAEA,GAAIG,CAAAA,QAAQ,CAAGX,WAAW,CAAC,SAACS,KAAD,QAAWA,CAAAA,KAAK,CAACC,SAAN,CAAgBE,KAA3B,EAAD,CAA1B,CACA,GAAIC,CAAAA,SAAS,CAAGL,SAAS,CAACM,MAAV,CAAiB,SAAAC,CAAC,QAAIJ,CAAAA,QAAQ,CAACK,QAAT,CAAkBD,CAAC,CAACE,EAApB,CAAJ,EAAlB,CAAhB,CACA,oBAAsCnB,KAAK,CAACoB,QAAN,CAAeL,SAAf,CAAtC,oDAAOM,WAAP,qBAAoBC,cAApB,qBAEA,QAASC,CAAAA,WAAT,CAAqBJ,EAArB,CAAwB,CACtBV,QAAQ,CAACL,MAAM,CAACe,EAAD,CAAP,CAAR,CACAG,cAAc,CAAC,SAAAE,UAAU,CAAG,CAAC,MAAOA,CAAAA,UAAU,CAACR,MAAX,CAAkB,SAAAC,CAAC,QAAEA,CAAAA,CAAC,CAACE,EAAF,GAAQA,EAAV,EAAnB,CAAP,CAAwC,CAAvD,CAAd,CACD,CAED,QAASM,CAAAA,UAAT,CAAoBN,EAApB,CAAuB,CACrBV,QAAQ,CAACJ,cAAc,CAACc,EAAD,CAAf,CAAR,CACAG,cAAc,CAAC,SAAAE,UAAU,CAAG,CAAC,MAAOA,CAAAA,UAAU,CAACR,MAAX,CAAkB,SAAAC,CAAC,QAAEA,CAAAA,CAAC,CAACE,EAAF,GAAQA,EAAV,EAAnB,CAAP,CAAwC,CAAvD,CAAd,CACD,CAED,mBACE,oCACE,sCADF,cAEE,YAAK,SAAS,CAAC,yDAAf,UACGE,WAAW,CAACK,GAAZ,CAAgB,SAAAC,IAAI,CAAG,CACtB,mBACE,KAAC,iBAAD,EAEA,WAAW,CAAEA,IAAI,CAACC,WAFlB,CAGA,EAAE,CAAID,IAAI,CAACR,EAHX,CAIA,SAAS,CAAEI,WAJX,CAKA,QAAQ,CAAEE,UALV,EACKlB,MAAM,EADX,CADF,CASD,CAVA,CADH,EAFF,GADF,CAmBD"},"metadata":{},"sourceType":"module"}