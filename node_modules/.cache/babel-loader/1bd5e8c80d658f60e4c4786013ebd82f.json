{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\t4158\\\\OneDrive\\\\\\u6587\\u4EF6\\\\GitHub\\\\Movie-list\\\\movie-list\\\\src\\\\containers\\\\Pages\\\\MovieList.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { like, block, update } from \"../../features/movieList/AllInOneSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MovieList = () => {\n  _s();\n\n  const fetchurl = \"https://api.themoviedb.org/3/movie/top_rated?api_key=86114ad4ef0d64d69fc3890cc82c2f14&language=en-US&page=\";\n  const [curpage, setCurpage] = useState(1);\n  const [movies, setMovies] = useState([]);\n  const [sortBy, setSortBy] = useState(\"None\");\n  const [liked, setLiked] = useState(new Set());\n  const [blocked, setBlocked] = useState(new Set());\n  const pageIds = useSelector(state => state.movieList.pageIds);\n  const movieInfos = useSelector(state => state.movieList.movieInfo);\n  /* update data for page 1 */\n\n  useEffect(() => {}, []);\n  /* update data when page changed */\n\n  useEffect(() => {}, [curpage]);\n  /* update data when filter changed */\n\n  /*  useEffect(()=>{\r\n    if(sortBy == 'id'){\r\n      }\r\n    elif (sortBy == 'vote'){\r\n      }\r\n    elif (sortBy == 'liked'){\r\n      }\r\n    elif (sortBy == 'date'){\r\n      }\r\n  },[sortBy]) */\n\n  /* update data when liked changed */\n\n  /*  useEffect(()=>{\r\n    if(sortBy == 'id'){\r\n      }\r\n    elif (sortBy == 'vote'){\r\n      }\r\n    elif (sortBy == 'liked'){\r\n      }\r\n    elif (sortBy == 'date'){\r\n      }\r\n  },[sortBy]) */\n\n  /* update data when blocked changed */\n\n  /*  useEffect(()=>{\r\n    if(sortBy == 'id'){\r\n      }\r\n    elif (sortBy == 'vote'){\r\n      }\r\n    elif (sortBy == 'liked'){\r\n      }\r\n    elif (sortBy == 'date'){\r\n      }\r\n  },[sortBy]) */\n\n  /*   \r\n  if (!(curpage in pageIds)) {\r\n    const url = fetchurl + curpage\r\n    fetch(url)\r\n        .then(res => {\r\n            \r\n        }\r\n        setData(res.json());\r\n        })\r\n        .catch( error => {\r\n            console.warn(`sorry an error occurred, due to ${error.message} `);\r\n            setData(null);\r\n            setError(error.message);\r\n        }\r\n    }\r\n  let curpagemovies=[]\r\n  pageIds.curpage.forEach((id)=>\r\n    curpagemovies.push(movieInfos[id])\r\n  )\r\n  setmovies(curpagemovies)\r\n   */\n\n  function pageUp() {\n    setCurpage(prev => {\n      return prev + 1;\n    });\n  }\n\n  function pageDown() {\n    setCurpage(prev => {\n      return prev - 1;\n    });\n  }\n  /* \r\n  function filetera() {\r\n    setCurpage(prev => {\r\n      return prev-1;\r\n    });\r\n  }\r\n    function fileterb() {\r\n    setNotes(prev => {\r\n      return prev+1;\r\n    });\r\n  }\r\n  function fileterc() {\r\n    setCurpage(prev => {\r\n      return prev-1;\r\n    });\r\n  }\r\n    function filterd() {\r\n    setNotes(prev => {\r\n      return prev+1;\r\n    });\r\n  }\r\n  \r\n    function blockMovie(id) {\r\n    setmovies(prevNotes => {\r\n      return prevNotes.filter((noteItem, index) => {\r\n        return index !== id;\r\n      });\r\n    });\r\n  }\r\n  \r\n  function likeMovie(id) {\r\n    setmovies(prevNotes => {\r\n      return prevNotes.filter((noteItem, index) => {\r\n        return index !== id;\r\n      });\r\n    });\r\n  }\r\n  \r\n  \r\n  */\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [curpage === 1 ? /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: true,\n        children: \"-\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: pageDown,\n        children: \"-\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [curpage, \"/1000 page\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), curpage === 1000 ? /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: true,\n        children: \"+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: pageUp,\n        children: \"+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Vote Average\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Release Date\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Popularity\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 157,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MovieList, \"PFjak974srGq72LunwqciR07FVg=\", false, function () {\n  return [useSelector, useSelector];\n});\n\n_c = MovieList;\nexport default MovieList;\n\nvar _c;\n\n$RefreshReg$(_c, \"MovieList\");","map":{"version":3,"names":["React","useState","useEffect","useSelector","useDispatch","like","block","update","MovieList","fetchurl","curpage","setCurpage","movies","setMovies","sortBy","setSortBy","liked","setLiked","Set","blocked","setBlocked","pageIds","state","movieList","movieInfos","movieInfo","pageUp","prev","pageDown"],"sources":["C:/Users/t4158/OneDrive/文件/GitHub/Movie-list/movie-list/src/containers/Pages/MovieList.js"],"sourcesContent":["import React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { like, block, update } from \"../../features/movieList/AllInOneSlice\";\r\n\r\nconst MovieList = () => {\r\n  const fetchurl =\r\n    \"https://api.themoviedb.org/3/movie/top_rated?api_key=86114ad4ef0d64d69fc3890cc82c2f14&language=en-US&page=\";\r\n  const [curpage, setCurpage] = useState(1);\r\n  const [movies, setMovies] = useState([]);\r\n  const [sortBy, setSortBy] = useState(\"None\");\r\n  const [liked, setLiked] = useState(new Set());\r\n  const [blocked, setBlocked] = useState(new Set());\r\n\r\n  const pageIds = useSelector((state) => state.movieList.pageIds);\r\n  const movieInfos = useSelector((state) => state.movieList.movieInfo);\r\n\r\n  /* update data for page 1 */\r\n  useEffect(() => {}, []);\r\n\r\n  /* update data when page changed */\r\n  useEffect(() => {}, [curpage]);\r\n\r\n  /* update data when filter changed */\r\n  /*  useEffect(()=>{\r\n    if(sortBy == 'id'){\r\n\r\n    }\r\n    elif (sortBy == 'vote'){\r\n\r\n    }\r\n    elif (sortBy == 'liked'){\r\n\r\n    }\r\n    elif (sortBy == 'date'){\r\n\r\n    }\r\n  },[sortBy]) */\r\n\r\n  /* update data when liked changed */\r\n  /*  useEffect(()=>{\r\n    if(sortBy == 'id'){\r\n\r\n    }\r\n    elif (sortBy == 'vote'){\r\n\r\n    }\r\n    elif (sortBy == 'liked'){\r\n\r\n    }\r\n    elif (sortBy == 'date'){\r\n\r\n    }\r\n  },[sortBy]) */\r\n\r\n  /* update data when blocked changed */\r\n  /*  useEffect(()=>{\r\n    if(sortBy == 'id'){\r\n\r\n    }\r\n    elif (sortBy == 'vote'){\r\n\r\n    }\r\n    elif (sortBy == 'liked'){\r\n\r\n    }\r\n    elif (sortBy == 'date'){\r\n\r\n    }\r\n  },[sortBy]) */\r\n\r\n  /*   \r\n  if (!(curpage in pageIds)) {\r\n    const url = fetchurl + curpage\r\n    fetch(url)\r\n        .then(res => {\r\n            \r\n        }\r\n        setData(res.json());\r\n        })\r\n        .catch( error => {\r\n            console.warn(`sorry an error occurred, due to ${error.message} `);\r\n            setData(null);\r\n            setError(error.message);\r\n        }\r\n\r\n  }\r\n  let curpagemovies=[]\r\n  pageIds.curpage.forEach((id)=>\r\n    curpagemovies.push(movieInfos[id])\r\n  )\r\n  setmovies(curpagemovies)\r\n\r\n */\r\n\r\n  function pageUp() {\r\n    setCurpage((prev) => {\r\n      return prev + 1;\r\n    });\r\n  }\r\n\r\n  function pageDown() {\r\n    setCurpage((prev) => {\r\n      return prev - 1;\r\n    });\r\n  }\r\n\r\n  /* \r\n  function filetera() {\r\n    setCurpage(prev => {\r\n      return prev-1;\r\n    });\r\n  }\r\n\r\n  function fileterb() {\r\n    setNotes(prev => {\r\n      return prev+1;\r\n    });\r\n  }\r\n  function fileterc() {\r\n    setCurpage(prev => {\r\n      return prev-1;\r\n    });\r\n  }\r\n\r\n  function filterd() {\r\n    setNotes(prev => {\r\n      return prev+1;\r\n    });\r\n  }\r\n\r\n\r\n\r\n  function blockMovie(id) {\r\n    setmovies(prevNotes => {\r\n      return prevNotes.filter((noteItem, index) => {\r\n        return index !== id;\r\n      });\r\n    });\r\n  }\r\n\r\n\r\n  function likeMovie(id) {\r\n    setmovies(prevNotes => {\r\n      return prevNotes.filter((noteItem, index) => {\r\n        return index !== id;\r\n      });\r\n    });\r\n  }\r\n\r\n\r\n\r\n\r\n */\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        {curpage === 1 ? (\r\n          <button disabled>-</button>\r\n        ) : (\r\n          <button onClick={pageDown}>-</button>\r\n        )}\r\n        <span>{curpage}/1000 page</span>\r\n        {curpage === 1000 ? (\r\n          <button disabled>+</button>\r\n        ) : (\r\n          <button onClick={pageUp}>+</button>\r\n        )}\r\n      </div>\r\n      <div>\r\n        <button>Title</button>\r\n        <button>Vote Average</button>\r\n        <button>Release Date</button>\r\n        <button>Popularity</button>\r\n      </div>\r\n      <div>\r\n        {/* {movies.map((movie) => {\r\n          if movie.id in blocked list{}\r\n          return (\r\n            <Note\r\n              key={index}\r\n              id={index}\r\n              title={noteItem.title}\r\n              content={noteItem.content}\r\n              onDelete={deleteNote}\r\n            />\r\n          );\r\n        })}; */}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MovieList;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}