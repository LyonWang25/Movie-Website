{"ast":null,"code":"import _slicedToArray from\"C:/Users/t4158/OneDrive/\\u6587\\u4EF6/GitHub/Movie-list/movie-list/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import BlockedMovieListCard from'../../Components/Card/BlockedMovieListCard';import'./BlockedMovieList.css';import{useSelector,useDispatch}from'react-redux';import{unblock,blockedToLiked}from'../../features/movieList/AllInOneSlice.js';import\"bootstrap/dist/css/bootstrap.min.css\";import{v4 as uuidv4}from'uuid';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function BlockedMovieList(){var dispatch=useDispatch();var movieInfo=useSelector(function(state){return state.movieList.movieInfo;});var blockedIds=useSelector(function(state){return state.movieList.blocked;});var blockedInfo=movieInfo.filter(function(m){return blockedIds.includes(m.id);});var _React$useState=React.useState(blockedInfo),_React$useState2=_slicedToArray(_React$useState,2),blokedMovies=_React$useState2[0],setBlockedMovies=_React$useState2[1];function UnblockMovie(id){dispatch(unblock(id));setBlockedMovies(function(prevMovies){return prevMovies.filter(function(m){return m.id!==id;});});}function LikeMovie(id){dispatch(blockedToLiked(id));setBlockedMovies(function(prevMovies){return prevMovies.filter(function(m){return m.id!==id;});});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:\"BlockedMovieList\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid d-flex flex-wrap justify-content-center\",children:blokedMovies.map(function(item){return/*#__PURE__*/_jsx(BlockedMovieListCard,{poster_path:item.poster_path,id:item.id,addUnBlock:UnblockMovie,addLike:LikeMovie},uuidv4());})})]});}","map":{"version":3,"names":["React","BlockedMovieListCard","useSelector","useDispatch","unblock","blockedToLiked","v4","uuidv4","BlockedMovieList","dispatch","movieInfo","state","movieList","blockedIds","blocked","blockedInfo","filter","m","includes","id","useState","blokedMovies","setBlockedMovies","UnblockMovie","prevMovies","LikeMovie","map","item","poster_path"],"sources":["C:/Users/t4158/OneDrive/文件/GitHub/Movie-list/movie-list/src/containers/Pages/BlockedMovieList.js"],"sourcesContent":["import React from \"react\";\r\nimport BlockedMovieListCard from '../../Components/Card/BlockedMovieListCard'\r\nimport './BlockedMovieList.css'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport {unblock, blockedToLiked} from '../../features/movieList/AllInOneSlice.js'\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nexport default function BlockedMovieList(){\r\n\r\n  const dispatch = useDispatch();\r\n  const movieInfo = useSelector((state)=> state.movieList.movieInfo)\r\n\r\n  var blockedIds = useSelector((state) => state.movieList.blocked)\r\n  var blockedInfo = movieInfo.filter(m => blockedIds.includes(m.id)) \r\n  const [blokedMovies, setBlockedMovies] = React.useState(blockedInfo)\r\n\r\n  function UnblockMovie(id){\r\n    dispatch(unblock(id))\r\n    setBlockedMovies(prevMovies =>{return prevMovies.filter(m=>m.id !==id)})\r\n  }\r\n\r\n  function LikeMovie(id){\r\n    dispatch(blockedToLiked(id))\r\n    setBlockedMovies(prevMovies =>{return prevMovies.filter(m=>m.id !==id)})\r\n  }\r\n\r\n  \r\n  return (\r\n    <div>\r\n      <div>BlockedMovieList</div>\r\n      <div className=\"container-fluid d-flex flex-wrap justify-content-center\">\r\n        {blokedMovies.map(item =>{\r\n          return (\r\n            <BlockedMovieListCard \r\n            key={uuidv4()}\r\n            poster_path={item.poster_path}\r\n            id = {item.id}\r\n            addUnBlock={UnblockMovie}\r\n            addLike={LikeMovie}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  \r\n  )\r\n}"],"mappings":"uJAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,oBAAP,KAAiC,4CAAjC,CACA,MAAO,wBAAP,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAAQC,OAAR,CAAiBC,cAAjB,KAAsC,2CAAtC,CACA,MAAO,sCAAP,CACA,OAASC,EAAE,GAAIC,CAAAA,MAAf,KAA6B,MAA7B,C,wFAEA,cAAe,SAASC,CAAAA,gBAAT,EAA2B,CAExC,GAAMC,CAAAA,QAAQ,CAAGN,WAAW,EAA5B,CACA,GAAMO,CAAAA,SAAS,CAAGR,WAAW,CAAC,SAACS,KAAD,QAAUA,CAAAA,KAAK,CAACC,SAAN,CAAgBF,SAA1B,EAAD,CAA7B,CAEA,GAAIG,CAAAA,UAAU,CAAGX,WAAW,CAAC,SAACS,KAAD,QAAWA,CAAAA,KAAK,CAACC,SAAN,CAAgBE,OAA3B,EAAD,CAA5B,CACA,GAAIC,CAAAA,WAAW,CAAGL,SAAS,CAACM,MAAV,CAAiB,SAAAC,CAAC,QAAIJ,CAAAA,UAAU,CAACK,QAAX,CAAoBD,CAAC,CAACE,EAAtB,CAAJ,EAAlB,CAAlB,CACA,oBAAyCnB,KAAK,CAACoB,QAAN,CAAeL,WAAf,CAAzC,oDAAOM,YAAP,qBAAqBC,gBAArB,qBAEA,QAASC,CAAAA,YAAT,CAAsBJ,EAAtB,CAAyB,CACvBV,QAAQ,CAACL,OAAO,CAACe,EAAD,CAAR,CAAR,CACAG,gBAAgB,CAAC,SAAAE,UAAU,CAAG,CAAC,MAAOA,CAAAA,UAAU,CAACR,MAAX,CAAkB,SAAAC,CAAC,QAAEA,CAAAA,CAAC,CAACE,EAAF,GAAQA,EAAV,EAAnB,CAAP,CAAwC,CAAvD,CAAhB,CACD,CAED,QAASM,CAAAA,SAAT,CAAmBN,EAAnB,CAAsB,CACpBV,QAAQ,CAACJ,cAAc,CAACc,EAAD,CAAf,CAAR,CACAG,gBAAgB,CAAC,SAAAE,UAAU,CAAG,CAAC,MAAOA,CAAAA,UAAU,CAACR,MAAX,CAAkB,SAAAC,CAAC,QAAEA,CAAAA,CAAC,CAACE,EAAF,GAAQA,EAAV,EAAnB,CAAP,CAAwC,CAAvD,CAAhB,CACD,CAGD,mBACE,oCACE,yCADF,cAEE,YAAK,SAAS,CAAC,yDAAf,UACGE,YAAY,CAACK,GAAb,CAAiB,SAAAC,IAAI,CAAG,CACvB,mBACE,KAAC,oBAAD,EAEA,WAAW,CAAEA,IAAI,CAACC,WAFlB,CAGA,EAAE,CAAID,IAAI,CAACR,EAHX,CAIA,UAAU,CAAEI,YAJZ,CAKA,OAAO,CAAEE,SALT,EACKlB,MAAM,EADX,CADF,CASD,CAVA,CADH,EAFF,GADF,CAmBD"},"metadata":{},"sourceType":"module"}